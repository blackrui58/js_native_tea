<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		#box {
			width: 400px;
			height: 600px;
			background-color: red;
			margin: 0 auto;
			background: url(images/bg.png) no-repeat;
			background-size: 100%;
			position: relative;
			overflow: hidden;
		}
		.floor {
			width: 100%;
			height: 100px;
			background: url(images/ground.png) no-repeat;
			position: absolute;
			bottom: 0;
			left: 0;
		}
		.pipe {
			width: 100px;
			height: 300px;
			background-color: #ccc;
			position: absolute;
			bottom: 100px;
			left: 0;
		}
		img {
			position: absolute;
			left: 179px;
			top: 0;
		}
	</style>
	<script type="text/javascript">
	window.onload = function () {
		var oImg = document.getElementsByTagName('img')[0];
		var index = 0;
		var oPipe = document.querySelector('.pipe');
		// 这是管道的x坐标
		var x = 0;
		// 下降的y坐标
		var y = 0;

		/* 
		0 1 2 3 4 5 6
		0 1 2 0 1 2 0 1
		*/ 
		setInterval(function () {
			index++;
			x -= 20;
			y += 10;
			if (x <= -100) {
				x = 400;
			}
			oPipe.style.left = x + 'px';
			oImg.src = 'images/'+(index % 3)+'.gif';
			oImg.style.top = y + 'px';
		},100);

		// 键盘抬起
		document.onkeyup = function (evt) {
			evt = evt || window.event;
			// 空格的键码是32
			if (evt.keyCode == 32) {
				y -= 50;
			}

		}
	}
	</script>
</head>
<body>
	<div id="box">
		<img src="images/2.gif" height="32" width="42">
		<div class="floor"></div>
		<div class="pipe"></div>
	</div>
</body>
</html>